{"version":3,"sources":["components/Person.js","services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","baseUrl","axios","get","newObject","post","id","delete","put","Persons","persons","setPersons","filter","setMessage","personsFiltered","toUpperCase","startsWith","map","key","window","confirm","personsService","then","response","p","setTimeout","PersonForm","setErrorMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","some","find","data","catch","error","console","log","concat","value","onChange","target","type","Filter","setFilter","Notification","message","className","App","errorMessage","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cc451d66.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, deletePerson}) => {\n  return (\n    <li>\n      {person.name} {person.number}\n      <button onClick={deletePerson}>delete</button>\n    </li>\n  )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst del = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, del, update}","import React from 'react'\nimport Person from './Person'\nimport personsService from '../services/persons'\n\nconst Persons = ({persons, setPersons, filter, setMessage}) => {\n  const personsFiltered = persons.filter(person => person.name.toUpperCase().startsWith(filter.toUpperCase()))\n\n  const deletePerson = (name,id) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personsService\n        .del(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage(`Deleted ${name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <ul>\n    {personsFiltered.map(person =>\n      <Person key={person.name} person={person} deletePerson={() => deletePerson(person.name, person.id)}/>\n    )}\n    </ul>\n  )\n}\n\nexport default Persons","import React, { useState } from 'react'\nimport personsService from '../services/persons'\n\nconst PersonForm = ({persons, setPersons, setMessage, setErrorMessage}) => {\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n\n  const addContact = (event) => {\n    event.preventDefault()\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.some(person => person.name === newName)) {\n      const res = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\n      if (res) {\n        const id = persons.find(person => person.name === newName).id\n        personsService\n          .update(id,person)\n          .then(response  => {\n            setPersons(persons.map(person => person.id !== id ? person : response.data ))\n\n            setMessage(`Updated ${newName}'s number`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error)\n            setErrorMessage(\n              `Information of ${newName} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.name !== newName))\n          })\n      }\n      return\n    }\n\n    personsService\n      .create(person)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setNewNumber('')\n        setMessage(`Added ${person.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n  }\n\n  const handleNameChange = (event => setNewName(event.target.value))\n\n  const handleNumberChange = (event => setNewNumber(event.target.value))\n\n  return (\n    <form onSubmit={addContact}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({filter, setFilter}) => {\n  const handleFilter = (event => setFilter(event.target.value))\n\n  return (\n    <>\n      filter shown with <input value={filter} onChange={handleFilter}/>\n    </>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={error ? 'error' : 'message'}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport './index.css'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n    .getAll()\n    .then(response => {\n      setPersons(response.data)\n    })\n  },[])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} error={false}/>\n      <Notification message={errorMessage} error={true}/>\n      <Filter filter={filter} setFilter={setFilter}/>\n      <h3>add a new</h3>\n      <PersonForm persons={persons} setPersons={setPersons} setMessage={setMessage} setErrorMessage={setErrorMessage}/>\n      <h3>Numbers</h3>\n      <Persons persons={persons} setPersons={setPersons} filter={filter} setMessage={setMessage}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}